# Zotero reMarkable sync

This uses the reverse engineered [ReMarkable API](https://github.com/splitbrain/ReMarkableAPI) library to automatically transfer files from a Zotero collection to a reMarkable folder.
When files have been uploaded, they are then removed from the Zotero collection.
Run this script periodically to continually transfer uploaded files.

Currently, the environment variables in the table below must be defined.
You can use a [`.env` file](https://github.com/vlucas/phpdotenv) or define them any other way you choose.

| Name               | Description                                        |
|--------------------|----------------------------------------------------|
|`ZOTERO_USER`       | Zotero user ID                                     |
|`ZOTERO_API_KEY`    | Zotero API key                                     |
|`ZOTERO_COLLECTION` | Collection key to use in Zotero                    |
|`WEBDAV_URL`        | URL of the WebDAV server hosting your Zotero files |
|`WEBDAV_AUTH`       | `username:password` for WebDAV authentication      |
|`REMARKABLE_TOKEN`  | reMarkable API token                               |
|`REMARKABLE_FOLDER` | reMarkable destination folder (default /Zotero)   |

Zotero user ID and API key can be found on the [settings](https://www.zotero.org/settings/keys) page.
The Zotero collection key can be found as the last component in the URL path when browsing on the Web interface.
For example in the URL below, the collection key is `ABCDEFG`.

    https://www.zotero.org/michaelmior/items/collectionKey/ABCDEFG

The reMarkable API token is generated by [ReMarkable API](https://github.com/splitbrain/ReMarkableAPI).
You will need a one-time code generated from [reMarkable](https://my.remarkable.com/).
With the code, run `remarkable.php register YOUR_CODE_HERE`.
This will generate a file `auth.token` which contains the key.
